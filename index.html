<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Plan d'Action 2026 - Application de suivi d'objectifs personnels">
    <meta name="theme-color" content="#1a5276">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <title>Plan d'Action 2026 - RÃ©alisation et Constance</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="loading-screen" class="loading-screen">
        <div class="loader">
            <div class="loader-icon">ğŸ“‹</div>
            <h2>Plan d'Action 2026</h2>
            <p>Chargement...</p>
            <div class="loader-bar"><div class="loader-progress"></div></div>
        </div>
    </div>

    <div id="login-page" class="page login-page" style="display: none;">
        <div class="login-container">
            <div class="login-header">
                <div class="login-icon">ğŸ“‹</div>
                <h1>Plan d'Action 2026</h1>
                <p class="motto">Â« RÃ©alisation et Constance Â»</p>
            </div>
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label for="username">Identifiant</label>
                    <input type="text" id="username" name="username" required placeholder="fabien ou sandrine">
                </div>
                <div class="form-group">
                    <label for="password">Mot de passe</label>
                    <input type="password" id="password" name="password" required placeholder="Mot de passe">
                </div>
                <button type="submit" class="btn btn-primary btn-block">Se connecter</button>
                <p id="login-error" class="error-message"></p>
            </form>
            <div class="login-footer">
                <p>BlockchainLab Â© 2026</p>
            </div>
        </div>
    </div>

    <div id="app" class="app" style="display: none;">
        <header class="app-header">
            <div class="header-left">
                <button id="menu-toggle" class="btn-icon menu-toggle">â˜°</button>
                <h1 class="app-title">Plan d'Action 2026</h1>
            </div>
            <div class="header-right">
                <button id="theme-toggle" class="btn-icon" title="Changer le thÃ¨me">ğŸŒ™</button>
                <button id="notifications-btn" class="btn-icon" title="Notifications">ğŸ””<span class="badge" id="notif-badge">0</span></button>
                <div class="user-menu">
                    <button id="user-menu-btn" class="btn-icon user-avatar">ğŸ‘¤</button>
                    <div id="user-dropdown" class="dropdown">
                        <div class="dropdown-header">
                            <span id="user-name-display">Utilisateur</span>
                            <span id="user-role-display" class="role-badge">Standard</span>
                        </div>
                        <a href="#" id="profile-link" class="dropdown-item">ğŸ‘¤ Mon profil</a>
                        <a href="#" id="settings-link" class="dropdown-item">âš™ï¸ ParamÃ¨tres</a>
                        <hr>
                        <a href="#" id="logout-btn" class="dropdown-item text-danger">ğŸšª DÃ©connexion</a>
                    </div>
                </div>
            </div>
        </header>

        <aside id="sidebar" class="sidebar">
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard"><span class="nav-icon">ğŸ“Š</span><span class="nav-text">Dashboard</span></a>
                <a href="#" class="nav-item" data-page="objectifs"><span class="nav-icon">ğŸ¯</span><span class="nav-text">Mes Objectifs</span></a>
                <a href="#" class="nav-item" data-page="saisie"><span class="nav-icon">ğŸ“</span><span class="nav-text">Saisie Quotidienne</span></a>
                <a href="#" class="nav-item" data-page="calendrier"><span class="nav-icon">ğŸ“…</span><span class="nav-text">Calendrier</span></a>
                <a href="#" class="nav-item" data-page="alarmes"><span class="nav-icon">â°</span><span class="nav-text">Alarmes</span></a>
                <a href="#" class="nav-item" data-page="statistiques"><span class="nav-icon">ğŸ“ˆ</span><span class="nav-text">Statistiques</span></a>
                <a href="#" class="nav-item" data-page="evaluations"><span class="nav-icon">ğŸ“‹</span><span class="nav-text">Ã‰valuations</span></a>
                <hr class="nav-divider">
                <a href="#" class="nav-item" data-page="equipe"><span class="nav-icon">ğŸ‘¥</span><span class="nav-text">Vue Ã‰quipe</span></a>
                <a href="#" class="nav-item" data-page="admin" id="nav-admin" style="display: none;"><span class="nav-icon">âš™ï¸</span><span class="nav-text">Administration</span></a>
            </nav>
        </aside>

        <main class="main-content">
            <!-- Dashboard -->
            <section id="page-dashboard" class="page-content active">
                <div class="vision-card">
                    <div class="vision-content">
                        <div class="vision-quote" id="user-vision">Â« Chargement... Â»</div>
                        <div class="vision-theme" id="user-theme">ThÃ¨me</div>
                    </div>
                    <button class="btn-icon vision-edit" id="edit-vision-btn" title="Modifier">âœï¸</button>
                </div>

                <div class="score-section">
                    <div class="score-card main-score">
                        <h3>Score Global</h3>
                        <div class="gauge-container">
                            <canvas id="gauge-global"></canvas>
                            <div class="gauge-value"><span id="score-global-value">0</span>%</div>
                        </div>
                        <p class="score-status" id="score-status">Commencez Ã  saisir vos objectifs !</p>
                    </div>
                </div>

                <div class="domains-grid">
                    <div class="domain-card spiritual" data-domain="spirituel">
                        <div class="domain-icon">ğŸ™</div>
                        <h4>Spirituel</h4>
                        <div class="domain-score"><span id="score-spirituel">0</span>%</div>
                        <div class="progress-bar"><div class="progress" id="progress-spirituel"></div></div>
                        <span class="domain-count"><span id="count-spirituel">0</span> objectif(s)</span>
                    </div>
                    <div class="domain-card intellectual" data-domain="intellectuel">
                        <div class="domain-icon">ğŸ§ </div>
                        <h4>Intellectuel</h4>
                        <div class="domain-score"><span id="score-intellectuel">0</span>%</div>
                        <div class="progress-bar"><div class="progress" id="progress-intellectuel"></div></div>
                        <span class="domain-count"><span id="count-intellectuel">0</span> objectif(s)</span>
                    </div>
                    <div class="domain-card financial" data-domain="financier">
                        <div class="domain-icon">ğŸ’°</div>
                        <h4>Financier</h4>
                        <div class="domain-score"><span id="score-financier">0</span>%</div>
                        <div class="progress-bar"><div class="progress" id="progress-financier"></div></div>
                        <span class="domain-count"><span id="count-financier">0</span> objectif(s)</span>
                    </div>
                    <div class="domain-card physical" data-domain="physique">
                        <div class="domain-icon">ğŸ’ª</div>
                        <h4>Physique</h4>
                        <div class="domain-score"><span id="score-physique">0</span>%</div>
                        <div class="progress-bar"><div class="progress" id="progress-physique"></div></div>
                        <span class="domain-count"><span id="count-physique">0</span> objectif(s)</span>
                    </div>
                    <div class="domain-card project" data-domain="projet">
                        <div class="domain-icon">ğŸ’¼</div>
                        <h4>Projet</h4>
                        <div class="domain-score"><span id="score-projet">0</span>%</div>
                        <div class="progress-bar"><div class="progress" id="progress-projet"></div></div>
                        <span class="domain-count"><span id="count-projet">0</span> objectif(s)</span>
                    </div>
                </div>

                <div class="charts-section">
                    <div class="chart-card">
                        <h3>ğŸ“Š Couverture des Domaines</h3>
                        <canvas id="radar-chart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>ğŸ“ˆ Ã‰volution</h3>
                        <canvas id="evolution-chart"></canvas>
                    </div>
                </div>

                <div class="actions-section">
                    <h3>âš¡ Actions du jour</h3>
                    <div id="today-actions" class="actions-list"></div>
                    <button class="btn btn-primary" id="btn-saisie-rapide">ğŸ“ Saisir ma journÃ©e</button>
                </div>
            </section>

            <!-- Page Objectifs -->
            <section id="page-objectifs" class="page-content">
                <div class="page-header">
                    <h2>ğŸ¯ Mes Objectifs</h2>
                    <button class="btn btn-primary" id="btn-add-objectif">+ Nouvel objectif</button>
                </div>
                <div class="filters-bar">
                    <select id="filter-domain" class="form-control">
                        <option value="">Tous les domaines</option>
                        <option value="spirituel">ğŸ™ Spirituel</option>
                        <option value="intellectuel">ğŸ§  Intellectuel</option>
                        <option value="financier">ğŸ’° Financier</option>
                        <option value="physique">ğŸ’ª Physique</option>
                        <option value="projet">ğŸ’¼ Projet</option>
                    </select>
                </div>
                <div id="objectifs-list" class="objectifs-grid"></div>
            </section>

            <!-- Page Saisie -->
            <section id="page-saisie" class="page-content">
                <div class="page-header">
                    <h2>ğŸ“ Saisie Quotidienne</h2>
                    <input type="date" id="saisie-date" class="form-control">
                </div>
                <div id="saisie-form-container" class="saisie-container"></div>
                <div class="saisie-actions">
                    <button class="btn btn-primary" id="btn-save-saisie">ğŸ’¾ Sauvegarder</button>
                </div>
            </section>

            <!-- Page Calendrier -->
            <section id="page-calendrier" class="page-content">
                <div class="page-header">
                    <h2>ğŸ“… Calendrier</h2>
                    <div class="calendar-nav">
                        <button class="btn btn-icon" id="prev-month">â—€</button>
                        <span id="current-month">Janvier 2026</span>
                        <button class="btn btn-icon" id="next-month">â–¶</button>
                    </div>
                </div>
                <div id="calendar-grid" class="calendar-grid"></div>
                <div class="calendar-legend">
                    <span class="legend-item"><span class="dot green"></span> â‰¥80%</span>
                    <span class="legend-item"><span class="dot orange"></span> 50-79%</span>
                    <span class="legend-item"><span class="dot red"></span> &lt;50%</span>
                    <span class="legend-item"><span class="dot gray"></span> Non saisi</span>
                </div>
            </section>

            <!-- Page Alarmes -->
            <section id="page-alarmes" class="page-content">
                <div class="page-header">
                    <h2>â° Mes Alarmes</h2>
                    <button class="btn btn-primary" id="btn-add-alarme">+ Nouvelle alarme</button>
                </div>
                <div id="alarmes-list" class="alarmes-list"></div>
            </section>

            <!-- Page Statistiques -->
            <section id="page-statistiques" class="page-content">
                <div class="page-header">
                    <h2>ğŸ“ˆ Statistiques</h2>
                </div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-icon">ğŸ”¥</div><div class="stat-value" id="stat-serie">0</div><div class="stat-label">Jours consÃ©cutifs</div></div>
                    <div class="stat-card"><div class="stat-icon">âœ…</div><div class="stat-value" id="stat-completed">0</div><div class="stat-label">Objectifs atteints</div></div>
                    <div class="stat-card"><div class="stat-icon">ğŸ“Š</div><div class="stat-value" id="stat-avg">0%</div><div class="stat-label">Score moyen</div></div>
                    <div class="stat-card"><div class="stat-icon">â­</div><div class="stat-value" id="stat-best">-</div><div class="stat-label">Meilleur domaine</div></div>
                </div>
                <div class="export-section">
                    <h3>ğŸ“¤ Exporter</h3>
                    <div class="export-buttons">
                        <button class="btn btn-secondary" id="export-pdf">ğŸ“„ PDF</button>
                        <button class="btn btn-secondary" id="export-json">ğŸ’¾ JSON</button>
                    </div>
                </div>
            </section>

            <!-- Page Ã‰quipe -->
            <section id="page-equipe" class="page-content">
                <div class="page-header"><h2>ğŸ‘¥ Vue Ã‰quipe</h2></div>
                <div id="team-grid" class="team-grid"></div>
            </section>

            <!-- Page Ã‰valuations -->
            <section id="page-evaluations" class="page-content">
                <div class="page-header">
                    <h2>ğŸ“‹ Ã‰valuations AVANT/APRÃˆS</h2>
                </div>
                <div class="evaluations-intro">
                    <p>Les Ã©valuations permettent de mesurer votre progression de maniÃ¨re objective. 
                    Remplissez une Ã©valuation <strong>AVANT</strong> au dÃ©but de chaque pÃ©riode, 
                    puis une Ã©valuation <strong>APRÃˆS</strong> Ã  la fin pour comparer.</p>
                </div>
                <div class="evaluations-tabs">
                    <button class="tab-btn active" data-tab="pending">ğŸ“ Ã€ faire</button>
                    <button class="tab-btn" data-tab="history">ğŸ“Š Historique</button>
                    <button class="tab-btn" data-tab="compare">ğŸ“ˆ Comparaison</button>
                </div>
                <div id="evaluations-content" class="evaluations-content">
                    <!-- Contenu chargÃ© dynamiquement -->
                </div>
            </section>

            <!-- Page Admin -->
            <section id="page-admin" class="page-content">
                <div class="page-header"><h2>âš™ï¸ Administration</h2></div>
                <div class="admin-sections">
                    <div class="admin-card">
                        <h3>ğŸ‘¥ Utilisateurs</h3>
                        <div id="admin-users-list" class="admin-list"></div>
                        <button class="btn btn-primary" id="btn-add-user">+ Nouvel utilisateur</button>
                    </div>
                    <div class="admin-card danger">
                        <h3>âš ï¸ Zone dangereuse</h3>
                        <button class="btn btn-danger" id="btn-reset-app">ğŸ—‘ï¸ RÃ©initialiser</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Titre</h3>
                <button class="btn-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body"></div>
            <div class="modal-footer" id="modal-footer">
                <button class="btn btn-secondary" id="modal-cancel">Annuler</button>
                <button class="btn btn-primary" id="modal-confirm">Confirmer</button>
            </div>
        </div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <script src="js/data.js"></script>
    <script src="js/evaluations.js"></script>
    <script src="js/app.js"></script>
    <script>
        // Enregistrement du Service Worker pour PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('Service Worker enregistrÃ©:', reg.scope))
                    .catch(err => console.log('Service Worker erreur:', err));
            });
        }
    </script>
</body>
</html>

